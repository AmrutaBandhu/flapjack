#!/usr/bin/env ruby

require 'httparty'
require 'pp'

module Flapjack

  class Diner

    include HTTParty
    format :json

    class << self

      def entity_checks(entity_name)
        get("/entities/#{entity_name}/checks")
      end

      def entity_check_status(entity_name, check_name)
        get("/entities/#{entity_name}/checks/#{check_name}")
      end

    end

  end

end

Flapjack::Diner.base_uri('http://127.0.0.1:5081')

pp Flapjack::Diner.entity_checks('clientx-app-01')
pp Flapjack::Diner.entity_check_status('clientx-app-01', 'ping')